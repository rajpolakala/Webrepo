pipeline {
  agent any

  stages {
    stage('Check .NET SDK Version') {
      steps {
        script {
          def dotnetSdkVersion = ""
          def command = isUnix() ? 'dotnet --version' : 'dotnet --version'
          def sdkVersionOutput = bat(returnStdout: true, script: command).trim()

          if (sdkVersionOutput) {
            dotnetSdkVersion = sdkVersionOutput
          } else {
            echo "Failed to retrieve .NET SDK version."
          }

          echo "Installed .NET SDK version: ${dotnetSdkVersion}"
        }
      }
    }
  }
}
